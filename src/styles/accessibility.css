/* Color Blindness Modes */
.app {
  transition: filter 0.3s ease;
}

.app.color-blind-protanopia {
  filter: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='protanopia'%3E%3CfeColorMatrix type='matrix' values='0.567 0.433 0 0 0 0.558 0.442 0 0 0 0 0.242 0.758 0 0 0 0 0 1 0'/%3E%3C/filter%3E%3C/svg%3E#protanopia");
}

.app.color-blind-deuteranopia {
  filter: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='deuteranopia'%3E%3CfeColorMatrix type='matrix' values='0.625 0.375 0 0 0 0.7 0.3 0 0 0 0 0.3 0.7 0 0 0 0 0 1 0'/%3E%3C/filter%3E%3C/svg%3E#deuteranopia");
}

.app.color-blind-tritanopia {
  filter: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='tritanopia'%3E%3CfeColorMatrix type='matrix' values='0.95 0.05 0 0 0 0 0.433 0.567 0 0 0 0.475 0.525 0 0 0 0 0 1 0'/%3E%3C/filter%3E%3C/svg%3E#tritanopia");
}

.app.color-blind-achromatopsia {
  filter: grayscale(100%);
}

/* Font Size Scaling */
.app.font-large {
  font-size: 18px;
}

.app.font-large .message-content {
  font-size: 1.125rem;
}

.app.font-large .welcome h2 {
  font-size: 4rem;
}

.app.font-large .welcome p {
  font-size: 1.75rem;
}

/* Reduced Motion */
.app.reduced-motion *,
.app.reduced-motion *::before,
.app.reduced-motion *::after {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
}

/* High Contrast Mode */
.app.high-contrast {
  --hc-bg: #ffffff;
  --hc-text: #000000;
  --hc-border: #000000;
  --hc-highlight: #ffff00;
  --hc-link: #0000ee;
  --hc-btn-bg: #f0f0f0;
  --hc-btn-hover: #000000;
  --hc-btn-text-hover: #ffffff;
}

.app.high-contrast.dark {
  --hc-bg: #000000;
  --hc-text: #ffff00; /* Yellow text for better visibility on black */
  --hc-border: #ffff00;
  --hc-highlight: #0000ff;
  --hc-link: #ffff00;
  --hc-btn-bg: #000000;
  --hc-btn-hover: #ffff00;
  --hc-btn-text-hover: #000000;
}

.app.high-contrast,
.app.high-contrast .sidebar,
.app.high-contrast .main-content,
.app.high-contrast .header,
.app.high-contrast .input-area,
.app.high-contrast .modal-content {
  background-color: var(--hc-bg) !important;
  color: var(--hc-text) !important;
}

.app.high-contrast * {
  box-shadow: none !important;
  text-shadow: none !important;
}

/* Borders for structure */
.app.high-contrast .sidebar,
.app.high-contrast .header,
.app.high-contrast .message-content,
.app.high-contrast .suggestion,
.app.high-contrast .modal-content,
.app.high-contrast .setting-item,
.app.high-contrast .toggle-switch,
.app.high-contrast .font-btn,
.app.high-contrast .sidebar-item,
.app.high-contrast .recent-item,
.app.high-contrast .new-chat-btn,
.app.high-contrast .input-container,
.app.high-contrast .send-button,
.app.high-contrast .header-btn,
.app.high-contrast .close-btn {
  border: 2px solid var(--hc-border) !important;
}

/* Interactive Elements */
.app.high-contrast button:hover,
.app.high-contrast button:focus-visible,
.app.high-contrast .sidebar-item:hover,
.app.high-contrast .sidebar-item:focus-visible,
.app.high-contrast .recent-item:hover,
.app.high-contrast .recent-item:focus-visible,
.app.high-contrast .suggestion:hover,
.app.high-contrast .suggestion:focus-visible,
.app.high-contrast .header-btn:hover,
.app.high-contrast .header-btn:focus-visible,
.app.high-contrast .close-btn:hover,
.app.high-contrast .close-btn:focus-visible,
.app.high-contrast .input-action-btn:hover,
.app.high-contrast .input-action-btn:focus-visible,
.app.high-contrast .speak-btn:hover,
.app.high-contrast .speak-btn:focus-visible,
.app.high-contrast .send-button:hover:not(:disabled),
.app.high-contrast .send-button:focus-visible:not(:disabled) {
  background-color: var(--hc-btn-hover) !important;
  color: var(--hc-btn-text-hover) !important;
  outline: 2px solid var(--hc-border) !important;
  outline-offset: 2px;
}

.app.high-contrast button:hover .material-symbols-outlined,
.app.high-contrast button:focus-visible .material-symbols-outlined,
.app.high-contrast .sidebar-item:hover .material-symbols-outlined,
.app.high-contrast .recent-item:hover .material-symbols-outlined,
.app.high-contrast .header-btn:hover .material-symbols-outlined,
.app.high-contrast .close-btn:hover .material-symbols-outlined,
.app.high-contrast .input-action-btn:hover .material-symbols-outlined,
.app.high-contrast .speak-btn:hover .material-symbols-outlined,
.app.high-contrast .send-button:hover:not(:disabled) .material-symbols-outlined,
.app.high-contrast .send-button:focus-visible:not(:disabled) .material-symbols-outlined {
  color: var(--hc-btn-text-hover) !important;
}

/* Active State (Click) */
.app.high-contrast button:active,
.app.high-contrast .sidebar-item:active,
.app.high-contrast .recent-item:active,
.app.high-contrast .suggestion:active,
.app.high-contrast .header-btn:active,
.app.high-contrast .close-btn:active,
.app.high-contrast .input-action-btn:active,
.app.high-contrast .speak-btn:active,
.app.high-contrast .send-button:active:not(:disabled) {
  background-color: var(--hc-text) !important;
  color: var(--hc-bg) !important;
  border-color: var(--hc-text) !important;
}

.app.high-contrast button:active .material-symbols-outlined,
.app.high-contrast .sidebar-item:active .material-symbols-outlined,
.app.high-contrast .recent-item:active .material-symbols-outlined,
.app.high-contrast .header-btn:active .material-symbols-outlined,
.app.high-contrast .close-btn:active .material-symbols-outlined,
.app.high-contrast .input-action-btn:active .material-symbols-outlined,
.app.high-contrast .speak-btn:active .material-symbols-outlined,
.app.high-contrast .send-button:active:not(:disabled) .material-symbols-outlined {
  color: var(--hc-bg) !important;
}

/* Icons */
.app.high-contrast .material-symbols-outlined {
  color: var(--hc-text) !important;
}

.app.high-contrast .logo-icon .material-symbols-outlined {
  background: none !important;
  -webkit-text-fill-color: var(--hc-text) !important;
}

/* Messages */
.app.high-contrast .message-content {
  background: var(--hc-bg) !important;
  color: var(--hc-text) !important;
}

.app.high-contrast .message.user .message-content {
  background: var(--hc-border) !important;
  color: var(--hc-bg) !important;
  font-weight: 700;
}

/* Inputs */
.app.high-contrast .input-container {
  background: var(--hc-bg) !important;
}

.app.high-contrast .message-input {
  color: var(--hc-text) !important;
}

.app.high-contrast .message-input::placeholder {
  color: var(--hc-text) !important;
  opacity: 0.7;
}

/* Toggles & Controls */
.app.high-contrast .toggle-switch {
  background: var(--hc-bg) !important;
}

.app.high-contrast .toggle-switch.active {
  background: var(--hc-border) !important;
}

.app.high-contrast .toggle-thumb {
  background: var(--hc-bg) !important;
  border: 2px solid var(--hc-border) !important;
}

.app.high-contrast .toggle-switch.active .toggle-thumb {
  background: var(--hc-bg) !important;
  border-color: var(--hc-bg) !important;
}

.app.high-contrast .font-btn.active {
  background: var(--hc-border) !important;
  color: var(--hc-bg) !important;
}

/* Scrollbar for High Contrast */
.app.high-contrast ::-webkit-scrollbar-thumb {
  background: var(--hc-border) !important;
  border: 2px solid var(--hc-bg) !important;
}

.app.high-contrast ::-webkit-scrollbar-track {
  background: var(--hc-bg) !important;
}

/* Fix Suggestion Hovers in High Contrast */
.app.high-contrast .suggestion:hover strong,
.app.high-contrast .suggestion:hover span,
.app.high-contrast .suggestion:hover .material-symbols-outlined,
.app.high-contrast .suggestion:focus-visible strong,
.app.high-contrast .suggestion:focus-visible span,
.app.high-contrast .suggestion:focus-visible .material-symbols-outlined {
  color: var(--hc-btn-text-hover) !important;
}

.app.high-contrast .suggestion:active strong,
.app.high-contrast .suggestion:active span,
.app.high-contrast .suggestion:active .material-symbols-outlined {
  color: var(--hc-bg) !important;
}
